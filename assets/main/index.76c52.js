window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var l=c.split("/");if(l=l[l.length-1],!e[l]){var s="function"==typeof __require&&__require;if(!a&&s)return s(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({"Additional ":[function(t,e){"use strict";function o(t,e){return n=e,(o=t-Math.floor(t/e)*e)<=0?0:o>=n?n:o;var o,n}cc._RF.push(e,"d12f3+Aks1PVakWcwNeh8hE","Additional "),cc.halfWidth=function(){return cc.winSize.width/2},cc.halfHeight=function(){return cc.winSize.height/2},cc.scaleGame=function(){return cc.winSize.width/720},cc.lerpAngle=function(t,e,n){var i,r=o(e-t,360);return(1-(i=n))*t+i*(t+(r>180?r-360:r))},cc.randomRangeInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},cc.randomRange=function(t,e){return Math.random()*(e-t)+t};try{Object.defineProperty(cc.Node.prototype,"canvasPosition",{get:function(){var t=this.parent.convertToWorldSpaceAR(this.position);return cc.v2(t.x-cc.halfWidth(),t.y-cc.halfHeight())},set:function(t){this.position=this.parent.convertToNodeSpaceAR(cc.v2(t.x+cc.halfWidth(),t.y+cc.halfHeight()))}}),Object.defineProperty(cc.Node.prototype,"worldPosition",{get:function(){var t=this.parent.convertToWorldSpaceAR(this.position);return cc.v2(t.x,t.y)},set:function(t){this.position=this.parent.convertToNodeSpaceAR(cc.v2(t.x,t.y))}}),Object.defineProperty(cc.Node.prototype,"worldScale",{get:function(){for(var t=this,e=cc.v2(t.scaleX,t.scaleY);"Canvas"!=t.name;)t=t.parent,e=cc.v2(e.x*t.scaleX,e.y*t.scaleY);return e},set:function(t){var e=this.parent.worldScale.value;this.setScale(t.x/e.x,t.y/e.y)}}),Object.defineProperty(cc.Node.prototype,"worldAngle",{get:function(){for(var t=this,e=t.angle;"Canvas"!=t.name;)e+=(t=t.parent).angle;return e},set:function(t){var e=this.parent.worldAngle.value;this.angle=t-e}})}catch(n){}cc._RF.pop()},{}],FbSdk:[function(t,e,o){"use strict";cc._RF.push(e,"fdd83jwQ2FCda8jjoUF5W1U","FbSdk");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../General/PlayerPrefs"),a=t("../TaapAnalytic/TAAPAnalytic"),l=cc._decorator,s=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.interstitial=null,e.fbName="",e.fbId="",e.fbAvatar="",e.fbLocale="",e.fbPlatform="",e.country="",e.fbSdkVersion="",e.base64="",e.listHistoryF=new Array,e.idFriendPlayWith="",e.countLoader=0,e.sumLoader=4,e.urlTrollMan=new Array,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){null==o.ins?(cc.game.addPersistRootNode(this.node),this.FBInstant="undefined"!=typeof FBInstant?FBInstant:null,o.ins=this,this.LoginGame(),this.scheduleOnce(this.SubscribeBot,5),this.scheduleOnce(this.CreateShortcutGame,6),null!=this.FBInstant&&(this.entryPointData=this.FBInstant.getEntryPointData(),a.default.init({apiKey:"$2b$10$wwQiISTVTC6Y2WlddJtTc.Zk18YvbP6PNZRuqQO3BVDvoyQH9Hr.6",authDomain:"https://imess.top/services",projectId:"278268077498234"})),this.LoadBanner()):o.ins!=this&&this.node.destroy()},e.prototype.LoadBannerAds=function(){null!=this.FBInstant&&this.FBInstant.loadBannerAdAsync("278268077498234_278273430831032").then(function(){console.log("success")})},e.prototype.HideBannerAds=function(){this.FBInstant.hideBannerAdAsync()},e.prototype.ShowInterstitial=function(t){if(void 0===t&&(t=null),null!=this.FBInstant){var e=null,o=this;null==o.interstitial?this.FBInstant.getInterstitialAdAsync("278268077498234_278273567497685").then(function(t){return o.interstitial=e=t,e.loadAsync()}).then(function(){return console.log("Interstitial preloaded"),e.showAsync()}).then(function(){null!=t&&t(),o.interstitial=null,console.log("Interstitial ad finished successfully")}).catch(function(t){console.error("Interstitial failed to preload: "+t.message)}):o.interstitial.showAsync().then(function(){null!=t&&t(),o.interstitial=null,console.log("Interstitial ad finished successfully")}).catch(function(t){console.error("Interstitial failed to preload: "+t.message)})}},e.prototype.ShowVideo=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),null!=this.FBInstant){var o=null;this.FBInstant.getRewardedVideoAsync("278268077498234_278273697497672").then(function(t){return(o=t).loadAsync()}).then(function(){return o.showAsync()}).then(function(){t(),console.log("Rewarded video finished successfully")}).catch(function(){console.error("Rewarded video failed to preload: "+e.message),null!=e&&e()})}else e()},e.prototype.GetLocale=function(){return null!=this.FBInstant?null==this.locale&&(this.locale=this.FBInstant.getLocale().toString().split("_")[0]):this.locale="en",this.locale},e.prototype.LoginGame=function(){null!=this.FBInstant&&(this.fbName=this.FBInstant.player.getName().toString(),this.fbId=this.FBInstant.player.getID().toString(),this.fbAvatar=this.FBInstant.player.getPhoto(),this.fbLocale=this.FBInstant.getLocale().toString(),this.fbPlatform=this.FBInstant.getPlatform().toString(),this.fbSdkVersion=this.FBInstant.getSDKVersion(),console.log(this.fbId))},e.prototype.GetLg=function(){return""!=this.fbLocale?this.fbLocale.split("_")[0]:this.FBInstant.getLocale().toString().split("_")[0]},e.prototype.CreateShortcutGame=function(){var t=this;null!=this.FBInstant&&this.FBInstant.canCreateShortcutAsync().then(function(e){e&&t.FBInstant.createShortcutAsync().then(function(){}).catch(function(){})})},e.prototype.Share=function(t){void 0===t&&(t=null),null!=this.FBInstant&&this.FBInstant.shareAsync({intent:"CHALLENGE",image:this.base64,text:"Please help me answer this question!",data:{myReplayData:"..."}}).then(function(e){console.log(e),null!=t&&t.apply()})},e.prototype.Challenge=function(){this.ChoosePlayer(function(){})},e.prototype.Invite=function(t){var e=this,o=this;this.ChoosePlayer(function(){var n="",i="";"vi"==e.fbLocale.split("_")[0]?(i=e.fbName+" \u0111ang c\u1ea7n gi\xfap \u0111\u1ee1!",n="Gi\xfap "+e.fbName):(i=e.fbName+" need help!",n="Play with "+e.fbName),o.FBInstant.updateAsync({action:"CUSTOM",cta:n,image:o.base64,text:i,template:"Game",data:{isShare:!0},strategy:"IMMEDIATE",notification:"PUSH"}).then(function(){t()}).catch(function(){t()})})},e.prototype.PlayOnlineWithFriend=function(t){var e=this;if(null!=this.FBInstant){var o=this;this.GetFriend(function(n){for(var i=new Array,r=0;r<n.length;r++)i[i.length]=n[r].getID();if(i.length>0)if(""!=o.idFriendPlayWith)if(1==i.length)o.Invite(t);else{var c=void 0;do{c=cc.randomRangeInt(0,i.length)}while(i[c]==o.idFriendPlayWith);e.PlayWithFriend(i[c],function(){t()})}else{c=void 0;do{c=cc.randomRangeInt(0,i.length)}while(i[c]==o.fbId);e.PlayWithFriend(i[c],function(){t()})}else o.Invite(t)})}},e.prototype.ChoosePlayer=function(t){void 0===t&&(t=null),null!=this.FBInstant&&this.FBInstant.context.chooseAsync({minSize:2}).then(function(){null!=t&&t.apply()})},e.prototype.AddScore=function(t,e){void 0===e&&(e=null),null!=this.FBInstant&&this.FBInstant.getLeaderboardAsync("Best Score").then(function(e){return e.setScoreAsync(t)}).then(function(){console.log("Score saved"),null!=e&&e.apply()})},e.prototype.GetRankWorld=function(t){void 0===t&&(t=null),null!=this.FBInstant&&this.FBInstant.getLeaderboardAsync("ldb").then(function(t){return t.getEntriesAsync(100,0)}).then(function(e){null!=t&&t(e).apply()}).catch(function(t){return console.error(t)})},e.prototype.GetRankFriend=function(t){void 0===t&&(t=null),null!=this.FBInstant&&this.FBInstant.getLeaderboardAsync("ldb").then(function(t){return t.getConnectedPlayerEntriesAsync()}).then(function(e){null!=t&&t(e).apply()})},e.prototype.GetRankPlayer=function(t){void 0===t&&(t=null),null!=this.FBInstant&&this.FBInstant.getLeaderboardAsync("ldb").then(function(t){return t.getPlayerEntryAsync()}).then(function(e){null!=t&&t(e).apply()})},e.prototype.PlayWithFriend=function(t,e){var o=this;void 0===e&&(e=null),null!=this.FBInstant&&this.FBInstant.context.createAsync(t).then(function(){o.idFriendPlayWith=t,null!=e&&e()}).catch(function(){console.log("OK3"),o.Invite(e)})},e.prototype.SwitchGame=function(t){null!=this.FBInstant&&this.FBInstant.switchGameAsync(t).catch(function(){})},e.prototype.LogEvent=function(t,e){void 0===e&&(e=null),null!=this.FBInstant&&(null!=e?a.default.analyticLog(t,e):a.default.analyticLog(t,1))},e.prototype.SubscribeBot=function(){var t=this;if(null!=this.FBInstant){var e=this;this.FBInstant.player.canSubscribeBotAsync().then(function(o){o&&t.FBInstant.player.subscribeBotAsync().then(function(){e.LogEvent("Sub Bot")}).catch(function(){})})}},e.prototype.PostTrollFriend=function(t,e,o,n,i,r){this.GetImageTroll(t,e,o,n,i,r)},e.prototype.GetInfoFriend=function(t){null!=this.FBInstant&&this.FBInstant.context.getPlayersAsync().then(function(e){t(e)})},e.prototype.GetFriend=function(t){this.FBInstant.player.getConnectedPlayersAsync().then(function(e){t(e)})},e.prototype.LoadBanner=function(){var t=this;this.base64=c.default.GetString("banner"),""==this.base64&&this.GetBase64ByUrl("https://i.imgur.com/TTBfNR5.png",function(e){t.base64=e,c.default.SetString("banner",e)})},e.prototype.GetImageTroll=function(t,e,o,n,i,r){var c=this,a=document.createElement("canvas");this.canvasMaskFace=document.createElement("canvas"),this.ctx=a.getContext("2d"),this.encoder=new GIFEncoder,this.encoder.setRepeat(0),this.encoder.setDelay(83),this.encoder.setQuality(10),a.width=720,a.height=360,this.canvasMaskFace.width=69.2,this.canvasMaskFace.height=83,this.encoder.setSize(a.width,a.height),this.encoder.start(),this.youSaid=n,this.yourFriendSaid=i;var l=new Image;l.onload=function(){var n=c.canvasMaskFace.getContext("2d");n.drawImage(c.maskFace,0,0,69.2,83),n.globalCompositeOperation="source-in",n.fillStyle="#FF0000",n.drawImage(l,-(t.x*o-69.2)/2+e.x,-(t.y*o-83)/2-e.y,t.x*o,t.y*o),c.face.onload=function(){c.countLoader++,c.countLoader==c.sumLoader&&c.Draw()},c.face.src=c.canvasMaskFace.toDataURL()},l.src=r},e.prototype.Draw=function(){this.ctx.drawImage(this.bgTrol,0,0,720,360),this.ctx.drawImage(this.face,437.1,123.971,69.2,83),this.ctx.font="18px vietRegular_LABEL",this.ctx.textAlign="center",this.ctx.fillText("",435.756,500),this.CreateFrame(1)},e.prototype.encode64=function(t){for(var e,o,n,i,r,c,a,l="",s=0,p=t.length,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s<p;)i=(e=t.charCodeAt(s++))>>2,r=(3&e)<<4|(o=t.charCodeAt(s++))>>4,c=(15&o)<<2|(n=t.charCodeAt(s++))>>6,a=63&n,isNaN(o)?c=a=64:isNaN(n)&&(a=64),l=l+d.charAt(i)+d.charAt(r)+d.charAt(c)+d.charAt(a);return l},e.prototype.CreateFrame=function(t){var e=this,n=new Image;n.onload=function(){if(e.ctx.drawImage(n,248,31,161.3,256.6),1==t)e.ctx.fillText(e.youSaid,435.756,68),e.ctx.fillText(e.yourFriendSaid,569.788,138),e.ctx.drawImage(e.girl,318,118,204,159);else{var i=new Path2D;i.rect(0,0,410,360),e.ctx.clip(i),e.ctx.fillText(e.youSaid,435.756,68),e.ctx.drawImage(e.girl,318,118,204,159)}if(e.encoder.addFrame(e.ctx),10==t){o.ins.LogEvent("TrollFriendSs"),e.encoder.finish();var r;r="vi"==e.fbLocale.split("_")[0]?e.fbName+" \u0111ang troll b\u1ea1n. H\xe3y tr\u1ea3 th\xf9! ( \u0361\u275b\u202f\u035c\u0296\u0361\u275b\u202f)\ud83d\udc4c":e.fbName+" is trolling you. Let's take revenge! ( \u0361\u275b\u202f\u035c\u0296\u0361\u275b\u202f)\ud83d\udc4c";var c="data:image/gif;base64,"+e.encode64(e.encoder.stream().getData());e.FBInstant.shareAsync({intent:"CHALLENGE",image:c,text:r,data:{isShare:!0}}).then(function(t){console.log(t),Mng.ins.ui.pleaseWaitTroll.active=!1,e.Invite(c)})}else e.CreateFrame(t+1)},n.src=this.urlTrollMan[t-1]},e.prototype.GetDataUser=function(t,e){null!=this.FBInstant&&this.FBInstant.player.getDataAsync(t).then(function(t){e(t)})},e.prototype.SetDataUser=function(t){null!=this.FBInstant&&this.FBInstant.player.setDataAsync(t).then(function(){console.log("data is set")})},e.prototype.CheckPointGame=function(){null!=this.FBInstant&&this.FBInstant.getEntryPointAsync().then(function(t){console.log("entrypoint = "+t),(""+t).toLowerCase()})},e.prototype.ToDataURL=function(t,e){var o=new XMLHttpRequest;o.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(o.response)},o.open("GET",t),o.responseType="blob",o.send()},e.prototype.GetBase64ByUrl=function(t,e){this.ToDataURL(t,function(t){e(t)})},e.prototype.OnPause=function(){},o=r([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../General/PlayerPrefs":"PlayerPrefs","../TaapAnalytic/TAAPAnalytic":"TAAPAnalytic"}],GameNetwork:[function(t,e,o){"use strict";cc._RF.push(e,"71f5416Q9JIvpsamVk9fCCX","GameNetwork");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.AddRanking=function(t,e,o){void 0===o&&(o=null);var n="https://taapgamestudio.com/cutit/addranking/"+t,i=new XMLHttpRequest;i.open("POST",n,!0),i.setRequestHeader("Content-Type","application/json"),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&200==i.status&&null!=o&&o()},i.send(JSON.stringify({lv:e}))},e.GetRanking=function(t,e){void 0===e&&(e=null);var o=new XMLHttpRequest;o.open("POST","https://taapgamestudio.com/cutit/getranking/",!0),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&200==o.status&&null!=e&&e(JSON.parse(o.responseText))},o.send(JSON.stringify(t))},r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],HitStarBlack:[function(t,e,o){"use strict";cc._RF.push(e,"ca576Io/i1F46EfAjbfPg+s","HitStarBlack");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Manager/Mng"),a=cc._decorator,l=a.ccclass,s=a.property,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(t){this.spr.spriteFrame=c.default.ins.data.hitStar[t],0==t?(this.node.setContentSize(70,71),this.collider.size=cc.size(70,70)):(this.node.setContentSize(137,70),this.collider.size=cc.size(135,70)),this.collider.apply()},r([s(cc.Sprite)],e.prototype,"spr",void 0),r([s(cc.PhysicsBoxCollider)],e.prototype,"collider",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Manager/Mng":"Mng"}],Home:[function(t,e,o){"use strict";cc._RF.push(e,"bc717ZDDONJ5rT464NEmWj3","Home");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Gameplay/UI/Pause"),a=t("../General/Loading"),l=t("../General/MngSound"),s=t("../General/PlayerPrefs"),p=cc._decorator,d=p.ccclass,u=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalStar=0,e.totalLevel=0,e}return i(e,t),e.prototype.start=function(){this.node.scale=cc.scaleGame();for(var t=0;t<100;t++)this.totalStar+=s.default.GetNumber("star"+(t+1),0);this.totalLevelLabel.string=+s.default.GetNumber("levelUnlock",1)+"/100",this.totalStarLabel.string=""+this.totalStar,s.default.GetBool("Music",!0)&&l.default.ins.PlayMusic(),s.default.GetBool("Sound",!0)?l.default.checkSound=!0:l.default.checkSound=!1},e.prototype.StartBtn=function(){l.default.ins.PlaySound(0),a.default.Load("SelectLevel")},e.prototype.Setting=function(){l.default.ins.PlaySound(0),this.setting.Init()},e.prototype.Leaderboard=function(){l.default.ins.PlaySound(0),a.default.Load("LeaderBoard")},r([u(cc.Label)],e.prototype,"totalStarLabel",void 0),r([u(cc.Label)],e.prototype,"totalLevelLabel",void 0),r([u(c.default)],e.prototype,"setting",void 0),r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../Gameplay/UI/Pause":"Pause","../General/Loading":"Loading","../General/MngSound":"MngSound","../General/PlayerPrefs":"PlayerPrefs"}],Leaderboard:[function(t,e,o){"use strict";cc._RF.push(e,"5157dOVwjBJRpdXMfLFa5HX","Leaderboard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../FbSdk/FbSdk"),a=t("../General/GameNetwork"),l=t("../General/Loading"),s=t("../General/MngSound"),p=t("./RankEle"),d=cc._decorator,u=d.ccclass,f=d.property,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.scale=cc.scaleGame(),c.default.ins.GetFriend(function(e){var o=new Array;o.push(c.default.ins.fbId);var n={};n[c.default.ins.fbId]={name:c.default.ins.fbName,avata:c.default.ins.fbAvatar};for(var i=0;i<e.length;i++)o.push(e[i].getID()),n[e[i].getID()]={name:e[i].getName(),avata:e[i].getPhoto()};var r=-109.961;a.default.GetRanking(o,function(e){for(var o=0;o<e.length;o++){var i=cc.instantiate(t.eleRank);i.setParent(t.content),i.y=r,r-=134.313,i.getComponent(p.default).Init(o,e[o].id,n[e[o].id].avata,n[e[o].id].name,(e[o].lv+1).toString())}t.content.setContentSize(0,-r)})})},e.prototype.Back=function(){s.default.ins.PlaySound(1),l.default.Load("Home")},r([f(cc.Prefab)],e.prototype,"eleRank",void 0),r([f(cc.Node)],e.prototype,"content",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../FbSdk/FbSdk":"FbSdk","../General/GameNetwork":"GameNetwork","../General/Loading":"Loading","../General/MngSound":"MngSound","./RankEle":"RankEle"}],LevelBtn:[function(t,e,o){"use strict";cc._RF.push(e,"7f3a8pjeN5Mq6qmlzsvbGmE","LevelBtn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Gameplay/Manager/MngLogic"),a=t("../General/Loading"),l=t("../General/MngSound"),s=t("../General/PlayerPrefs"),p=cc._decorator,d=p.ccclass,u=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starList=[],e.starSprite=[],e}return i(e,t),e.prototype.Init=function(t){if(this.label.string=""+(t+1),this.selectedLevel=t+1,t+1<=s.default.GetNumber("levelUnlock",1)){this.lockObj.active=!1;for(var e=0;e<s.default.GetNumber("star"+(t+1),0);e++)this.starList[e].spriteFrame=this.starSprite[1]}},e.prototype.LevelBtn=function(){l.default.ins.PlaySound(0),c.default.indexLv=this.selectedLevel,a.default.Load("Gameplay")},r([u(cc.Label)],e.prototype,"label",void 0),r([u(cc.Node)],e.prototype,"lockObj",void 0),r([u(cc.Sprite)],e.prototype,"starList",void 0),r([u(cc.SpriteFrame)],e.prototype,"starSprite",void 0),r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../Gameplay/Manager/MngLogic":"MngLogic","../General/Loading":"Loading","../General/MngSound":"MngSound","../General/PlayerPrefs":"PlayerPrefs"}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"a3bebBP7RZBTq8KjxWo4JhF","Loading");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=c.property,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.node.scale=cc.winSize.width/720,this.LoadSplash(o.nameScene)},e.prototype.LoadSplash=function(t){var e=this;o.sceneLoaded.push(t),cc.director.preloadScene(t,function(t,o){var n=t/o;e.bar.fillRange=n,e.textLoading.string="Loading..."+Math.round(100*n)+"%"},function(){cc.director.loadScene(t)})},e.Load=function(t){this.sceneLoaded.indexOf(t)>=0?cc.director.loadScene(t):(o.nameScene=t,cc.director.loadScene("Loading"))},e.nameScene="Home",e.sceneLoaded=new Array,r([l(cc.Sprite)],e.prototype,"bar",void 0),r([l(cc.Label)],e.prototype,"textLoading",void 0),o=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],MngData:[function(t,e,o){"use strict";cc._RF.push(e,"093a7YXp45AbYfBz/yaMd8l","MngData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrow=[],e.star=[],e.hitStar=[],e}return i(e,t),r([l(cc.SpriteFrame)],e.prototype,"arrow",void 0),r([l(cc.SpriteFrame)],e.prototype,"star",void 0),r([l(cc.SpriteFrame)],e.prototype,"hitStar",void 0),r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],MngLogic:[function(t,e,o){"use strict";cc._RF.push(e,"0f734Pb8ENNu7naJZlStMfr","MngLogic");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../FbSdk/FbSdk"),a=t("./Mng"),l=cc._decorator,s=l.ccclass,p=l.property,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0},e.prototype.start=function(){var t=this;c.default.ins.LogEvent("Play Lv"+o.indexLv),this.cutControler.setContentSize(cc.winSize.width,cc.winSize.height),this.cutControler.scale=1/cc.scaleGame(),cc.resources.load("Lv/Lv"+o.indexLv%28,cc.JsonAsset,function(e,o){a.default.ins.ui.play.Init(o.json);for(var n=0;n<o.json.poly.length;n++){var i=void 0;if(i=null==o.json.poly[n].sprite?a.default.ins.pool.GetPoly():a.default.ins.pool.GetPolyMask(),o.json.poly[n].isCut){if(i.isCut=!0,0==o.json.poly[n].index)null==o.json.poly[n].sprite?i.InitPolygon(t.GetPointBox(o.json.poly[n].size),o.json.poly[n].color):i.InitPolygonMask(t.GetPointBox(o.json.poly[n].size),o.json.poly[n].sprite),i.node.position=o.json.poly[n].pos;else if(1==o.json.poly[n].index)null==o.json.poly[n].sprite?i.InitPolygon(t.GetPointCircle(o.json.poly[n].radius),o.json.poly[n].color):i.InitPolygonMask(t.GetPointCircle(o.json.poly[n].radius),o.json.poly[n].sprite),i.node.position=o.json.poly[n].pos;else if(2==o.json.poly[n].index){for(var r=new Array,c=0;c<o.json.poly[n].points.length;c++)r.push(cc.v2(o.json.poly[n].points[c].x,o.json.poly[n].points[c].y));null==o.json.poly[n].sprite?i.InitPolygon(r):i.InitPolygonMask(r,o.json.poly[n].sprite)}}else if(i.isCut=!1,0==o.json.poly[n].index)null==o.json.poly[n].sprite?i.InitPolygon(t.GetPointBox(o.json.poly[n].size),o.json.poly[n].color):i.InitPolygonMask(t.GetPointBox(o.json.poly[n].size),o.json.poly[n].sprite),i.node.position=o.json.poly[n].pos;else if(1==o.json.poly[n].index)null==o.json.poly[n].sprite?i.InitPolygon(t.GetPointCircle(o.json.poly[n].radius),o.json.poly[n].color):i.InitPolygonMask(t.GetPointCircle(o.json.poly[n].radius),o.json.poly[n].sprite),i.node.position=o.json.poly[n].pos;else if(2==o.json.poly[n].index){for(r=new Array,c=0;c<o.json.poly[n].points.length;c++)r.push(cc.v2(o.json.poly[n].points[c].x,o.json.poly[n].points[c].y));null==o.json.poly[n].sprite?i.InitPolygon(r):i.InitPolygonMask(r,o.json.poly[n].sprite)}if(null!=o.json.poly[n].connect)for(i.fixedPoint=new Array,c=0;c<o.json.poly[n].connect.length;c++)if(0==o.json.poly[n].connect[c].index){var l=a.default.ins.pool.GetScrew();l.node.position=o.json.poly[n].connect[c].pos,l.connectedAnchor=cc.v2(l.node.worldPosition.x-i.node.worldPosition.x,l.node.worldPosition.y-i.node.worldPosition.y),l.connectedBody=i.rb,i.fixedPoint[c]=l,l.apply()}if(null!=o.json.poly[n].gravity?i.rb.gravityScale=o.json.poly[n].gravity:i.rb.gravityScale=2,null!=o.json.poly[n].dirMove){var s=o.json.poly[n].dirMove*Math.PI/180;i.dirMove=cc.v2(100*Math.sin(s),100*Math.cos(s)),i.visibleMask.node.angle=-o.json.poly[n].dirMove}null!=o.json.poly[n].velocity&&(i.rb.linearVelocity=o.json.poly[n].velocity),i.rb.type=cc.RigidBodyType.Dynamic}if(null!=o.json.wall){var p=function(e){var n=a.default.ins.pool.GetWall();if(0==o.json.wall[e].index)n.InitPolygon(t.GetPointBox(o.json.wall[e].size)),n.node.position=o.json.wall[e].pos;else if(1==o.json.wall[e].index)n.InitPolygon(t.GetPointCircle(o.json.wall[e].radius)),n.node.position=o.json.wall[e].pos;else if(2==o.json.wall[e].index){for(var i=new Array,r=0;r<o.json.wall[e].points.length;r++)i.push(cc.v2(o.json.wall[e].points[r].x,o.json.wall[e].points[r].y));n.InitPolygon(i)}if(null!=o.json.wall[e].isPhysics&&(n.collider.enabled=!1),null!=o.json.wall[e].connect)for(n.fixedPoint=new Array,r=0;r<o.json.wall[e].connect.length;r++)if(0==o.json.wall[e].connect[r].index){var c=a.default.ins.pool.GetScrew();c.node.position=o.json.wall[e].connect[r].pos,c.connectedAnchor=cc.v2(c.node.worldPosition.x-n.node.worldPosition.x,c.node.worldPosition.y-n.node.worldPosition.y),c.connectedBody=n.rb,c.node.scale=o.json.wall[e].connect[r].scale,n.fixedPoint[r]=c,n.rb.type=cc.RigidBodyType.Dynamic}if(null!=o.json.wall[e].move){n.dirMove=cc.v2(-100,0),n.rb.type=cc.RigidBodyType.Kinematic,n.collider.friction=1,n.collider.apply();var l=function(){t.scheduleOnce(function(){n.dirMove=cc.v2(100,0),t.scheduleOnce(function(){n.dirMove=cc.v2(-100,0),l()},cc.Vec2.distance(n.node.canvasPosition,o.json.wall[e].move.end)/95)},cc.Vec2.distance(n.node.canvasPosition,o.json.wall[e].move.begin)/95)};l()}};for(n=0;n<o.json.wall.length;n++)p(n)}if(null!=o.json.rope)for(n=0;n<o.json.rope.length;n++){var d=void 0;null!=o.json.rope[n].begin.pos&&((d=a.default.ins.pool.GetScrew()).node.position=o.json.rope[n].begin.pos);var u=void 0;for(c=0;c<o.json.rope[n].count;c++){var f=a.default.ins.pool.GetRope();if(null==u)if(null!=o.json.rope[n].begin.pos)f.node.position=cc.v2(d.node.position.x,d.node.position.y-23.56),d.connectedBody=f.rb,d.anchor=cc.v2(0,0),d.connectedAnchor=cc.v2(0,23.9);else if(null!=o.json.rope[n].begin.poly){f.node.zIndex=50,f.node.position=cc.v2(o.json.rope[n].begin.poly.pos.x,o.json.rope[n].begin.poly.pos.y-10),a.default.ins.pool.GetScrewRope(f.node,!0);var h=void 0;(h=null==o.json.rope[n].begin.poly.isMask?a.default.ins.pool.listPoly[o.json.rope[n].begin.poly.index].node.addComponent(cc.RevoluteJoint):a.default.ins.pool.listPolyMask[o.json.rope[n].begin.poly.index].node.addComponent(cc.RevoluteJoint)).connectedBody=f.rb,null==o.json.rope[n].begin.poly.isMask?h.anchor=cc.v2(o.json.rope[n].begin.poly.pos.x-a.default.ins.pool.listPoly[o.json.rope[n].begin.poly.index].node.x,o.json.rope[n].begin.poly.pos.y-a.default.ins.pool.listPoly[o.json.rope[n].begin.poly.index].node.y):h.anchor=cc.v2(o.json.rope[n].begin.poly.pos.x-a.default.ins.pool.listPolyMask[o.json.rope[n].begin.poly.index].node.x,o.json.rope[n].begin.poly.pos.y-a.default.ins.pool.listPolyMask[o.json.rope[n].begin.poly.index].node.y),h.connectedAnchor=cc.v2(o.json.rope[n].begin.poly.pos.x-f.node.canvasPosition.x,o.json.rope[n].begin.poly.pos.y-f.node.canvasPosition.y),null==o.json.rope[n].begin.poly.isMask?(null==a.default.ins.pool.listPoly[o.json.rope[n].begin.poly.index].jointPoint&&(a.default.ins.pool.listPoly[o.json.rope[n].begin.poly.index].jointPoint=new Array),a.default.ins.pool.listPoly[o.json.rope[n].begin.poly.index].jointPoint.push(h)):(null==a.default.ins.pool.listPolyMask[o.json.rope[n].begin.poly.index].jointPoint&&(a.default.ins.pool.listPolyMask[o.json.rope[n].begin.poly.index].jointPoint=new Array),a.default.ins.pool.listPolyMask[o.json.rope[n].begin.poly.index].jointPoint.push(h))}else null!=o.json.rope[n].begin.wall&&(f.node.zIndex=50,f.node.position=cc.v2(o.json.rope[n].begin.wall.pos.x,o.json.rope[n].begin.wall.pos.y-10),a.default.ins.pool.GetScrewRope(f.node,!0),h=void 0,(h=a.default.ins.pool.listWall[o.json.rope[n].begin.wall.index].node.addComponent(cc.RevoluteJoint)).connectedBody=f.rb,h.anchor=cc.v2(o.json.rope[n].begin.wall.pos.x-a.default.ins.pool.listWall[o.json.rope[n].begin.wall.index].node.x,o.json.rope[n].begin.wall.pos.y),h.connectedAnchor=cc.v2(o.json.rope[n].begin.wall.pos.x-f.node.canvasPosition.x,o.json.rope[n].begin.wall.pos.y-f.node.canvasPosition.y));else f.node.position=cc.v2(u.node.position.x,u.node.position.y-17),u.joint.connectedBody=f.rb,u.joint.anchor=cc.v2(0,-7),f.joint.connectedAnchor=cc.v2(0,10);u=f}null!=o.json.rope[n].end.poly&&(u.joint.connectedBody=a.default.ins.pool.listPoly[o.json.rope[n].end.poly.index].rb,a.default.ins.pool.GetScrewRope(u.node,!1),u.joint.anchor=cc.v2(0,-7),u.joint.connectedAnchor=cc.v2(o.json.rope[n].end.poly.pos.x,o.json.rope[n].end.poly.pos.y),null==a.default.ins.pool.listPoly[o.json.rope[n].end.poly.index].fixedPoint&&(a.default.ins.pool.listPoly[o.json.rope[n].end.poly.index].fixedPoint=new Array),a.default.ins.pool.listPoly[o.json.rope[n].end.poly.index].fixedPoint.push(u.joint))}for(n=0;n<o.json.star.length;n++){var y=a.default.ins.pool.GetStar();y.node.position=o.json.star[n].pos,null!=o.json.star[n].color&&(y.node.color=cc.color(o.json.star[n].color)),y.Init(o.json.star[n].index)}if(null!=o.json.hitStar){var g=a.default.ins.pool.GetHitStar();g.node.position=o.json.hitStar.pos,g.Init(o.json.hitStar.index)}}),this.cutControler.on(cc.Node.EventType.TOUCH_START,function(e){t.lineTouch.position=t.touchBegin.position=t.touchEnd.position=cc.v2(e.getLocation().x-cc.halfWidth(),e.getLocation().y-cc.halfHeight()),t.lineTouch.width=0,t.touchBegin.active=t.lineTouch.active=t.touchEnd.active=!0,cc.Tween.stopAllByTarget(a.default.ins.logic.touchEnd),cc.Tween.stopAllByTarget(a.default.ins.logic.lineTouch)}),this.cutControler.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.touchEnd.position=cc.v2(e.getLocation().x-cc.halfWidth(),e.getLocation().y-cc.halfHeight()),t.lineTouch.width=cc.Vec2.distance(t.touchBegin.position,t.touchEnd.position),t.lineTouch.angle=180*Math.atan2(t.touchEnd.position.y-t.touchBegin.position.y,t.touchEnd.position.x-t.touchBegin.position.x)/Math.PI}),this.cutControler.on(cc.Node.EventType.TOUCH_END,function(){t.touchBegin.active=t.touchEnd.active=t.lineTouch.active=!1;for(var e=!1,o=a.default.ins.pool.listPoly.filter(function(t){return t.node.activeInHierarchy&&t.isCut}).concat(a.default.ins.pool.listPolyMask.filter(function(t){return t.node.activeInHierarchy&&t.isCut})),n=0;n<o.length;n++){var i=o[n].GetPointWorlds();if(cc.Intersection.pointInPolygon(t.touchBegin.worldPosition,i)||cc.Intersection.pointInPolygon(t.touchEnd.worldPosition,i))return}var r=function(n){for(var i=[],r=o[n].GetPoint(),c=0;c<r.length;c++){var s=void 0;c==r.length-1?null!=(s=t.MathPosCut(t.touchBegin.canvasPosition,t.touchEnd.canvasPosition,r[c],r[0]))&&i.push({begin:r[c],end:r[0],cut:s}):null!=(s=t.MathPosCut(t.touchBegin.canvasPosition,t.touchEnd.canvasPosition,r[c],r[c+1]))&&i.push({begin:r[c],end:r[c+1],cut:s})}if(i.length>0){e||(e=!0,a.default.ins.ui.play.SetLine()),i.sort(function(e,o){return cc.Vec2.distance(e.cut,t.touchBegin.canvasPosition)-cc.Vec2.distance(o.cut,t.touchBegin.canvasPosition)});for(var p=[r],d=-1;i.length>0;){var u=[i[0],i[1]];for(c=0;c<2;c++)i.shift();for(d=-1,c=0;c<p.length;c++){for(var f=0;f<p[c].length;f++)if(t.CheckVector(p[c][f],u[0].begin)&&t.CheckVector(p[c][f==p[c].length-1?0:f+1],u[0].end)){d=c;break}if(-1!=d)break}var h=[[p[d][0]]],y=!0,g=function(e){var o,n=e==p[d].length-1;(o=u.findIndex(function(o){return t.CheckVector(o.begin,p[d][e])&&t.CheckVector(o.end,p[d][n?0:e+1])}))>=0?y?(h[0].push(u[o].cut),h[1]=[u[o].cut,p[d][e+1]],y=!1):(h[0].push(u[o].cut),e<p[d].length-1&&h[0].push(p[d][e+1]),h[1].push(u[o].cut),y=!0):n||(y?h[0].push(p[d][e+1]):h[1].push(p[d][e+1]))};for(c=0;c<p[d].length;c++)g(c);(p=p.filter(function(t){return t!=p[d]})).push(h[0]),p.push(h[1])}for(c=0;c<p.length;c++){var v=[];for(f=0;f<p[c].length;f++)v.push(p[c][f]);if(null==o[n].mask){(P=a.default.ins.pool.GetPoly()).rb.gravityScale=o[n].rb.gravityScale;try{P.InitPolygon(v,o[n].graphics.fillColor)}catch(l){P.InitColliderPolygon(v)}if(null!=o[n].fixedPoint)for(f=0;f<o[n].fixedPoint.length;f++)cc.Intersection.pointInPolygon(o[n].fixedPoint[f].node.worldPosition,P.GetPointWorlds())&&(null==P.fixedPoint&&(P.fixedPoint=new Array),o[n].fixedPoint[f].node.name.indexOf("Rope")>=0?o[n].fixedPoint[f].connectedAnchor=cc.v2(o[n].fixedPoint[f].node.worldPosition.x-P.node.worldPosition.x,o[n].fixedPoint[f].node.worldPosition.y-10-P.node.worldPosition.y):o[n].fixedPoint[f].connectedAnchor=cc.v2(o[n].fixedPoint[f].node.worldPosition.x-P.node.worldPosition.x,o[n].fixedPoint[f].node.worldPosition.y-P.node.worldPosition.y),o[n].fixedPoint[f].connectedBody=P.rb,P.fixedPoint.push(o[n].fixedPoint[f]),P.fixedPoint[P.fixedPoint.length-1].apply());if(null!=o[n].jointPoint)for(f=0;f<o[n].jointPoint.length;f++)cc.Intersection.pointInPolygon(o[n].jointPoint[f].connectedBody.node.worldPosition,P.GetPointWorlds())&&(null==P.jointPoint&&(P.jointPoint=new Array),(b=P.addComponent(cc.RevoluteJoint)).anchor=cc.v2(o[n].jointPoint[f].connectedBody.node.worldPosition.x-P.node.worldPosition.x,o[n].jointPoint[f].connectedBody.node.worldPosition.y+10-P.node.worldPosition.y),b.connectedAnchor=o[n].jointPoint[f].connectedAnchor,b.connectedBody=o[n].jointPoint[f].connectedBody,P.jointPoint.push(b),P.jointPoint[P.jointPoint.length-1].apply(),o[n].jointPoint[f].destroy())}else{var P;(P=a.default.ins.pool.GetPolyMask()).rb.gravityScale=o[n].rb.gravityScale;try{P.InitPolygonMask(v,o[n])}catch(_){P.InitColliderPolygon(v)}if(null!=o[n].fixedPoint)for(P.fixedPoint=new Array,f=0;f<o[n].fixedPoint.length;f++)cc.Intersection.pointInPolygon(o[n].fixedPoint[f].node.worldPosition,P.GetPointWorlds())&&(null==P.fixedPoint&&(P.fixedPoint=new Array),o[n].fixedPoint[f].node.name.indexOf("Rope")>=0?o[n].fixedPoint[f].connectedAnchor=cc.v2(o[n].fixedPoint[f].node.worldPosition.x-P.node.worldPosition.x,o[n].fixedPoint[f].node.worldPosition.y-10-P.node.worldPosition.y):o[n].fixedPoint[f].connectedAnchor=cc.v2(o[n].fixedPoint[f].node.worldPosition.x-P.node.worldPosition.x,o[n].fixedPoint[f].node.worldPosition.y-P.node.worldPosition.y),o[n].fixedPoint[f].connectedBody=P.rb,P.fixedPoint.push(o[n].fixedPoint[f]),P.fixedPoint[P.fixedPoint.length-1].apply());if(null!=o[n].jointPoint)for(f=0;f<o[n].jointPoint.length;f++)if(cc.Intersection.pointInPolygon(o[n].jointPoint[f].connectedBody.node.worldPosition,P.GetPointWorlds())){var b;null==P.jointPoint&&(P.jointPoint=new Array),(b=P.addComponent(cc.RevoluteJoint)).anchor=cc.v2(o[n].jointPoint[f].connectedBody.node.worldPosition.x-P.node.worldPosition.x,o[n].jointPoint[f].connectedBody.node.worldPosition.y+10-P.node.worldPosition.y),b.connectedAnchor=o[n].jointPoint[f].connectedAnchor,b.connectedBody=o[n].jointPoint[f].connectedBody,P.jointPoint.push(b),P.jointPoint[P.jointPoint.length-1].apply(),o[n].jointPoint[f].destroy()}}}o[n].node.active=!1}};for(n=0;n<o.length;n++)r(n)})},e.prototype.GetPointCircle=function(t){for(var e=this.MathPointCircle(t),o=[],n=0;n<e;n++)o[n]=cc.v2(t*Math.sin(2*Math.PI*n/e),t*Math.cos(2*Math.PI*n/e));return o},e.prototype.GetPointBox=function(t){var e={x:t.x/2,y:t.y/2},o=[];return o[0]=cc.v2(-e.x,-e.y),o[1]=cc.v2(-e.x,e.y),o[2]=cc.v2(e.x,e.y),o[3]=cc.v2(e.x,-e.y),o},e.prototype.MathPointCircle=function(t){return Math.pow(t/.008-1,1/3)+1},e.prototype.MathPosCut=function(t,e,o,n){var i=(o.x*(o.y-n.y)+o.y*(n.x-o.x)-t.y*(e.x-t.x)*(o.y-n.y)/(t.y-e.y)-t.x*(o.y-n.y))/(n.x-o.x-(e.x-t.x)*(o.y-n.y)/(t.y-e.y)),r=(t.x*(t.y-e.y)-(e.x-t.x)*(i-t.y))/(t.y-e.y),c=cc.v2(r,i);return(this.Distance(t,c)+this.Distance(e,c)).toFixed(6)==this.Distance(t,e).toFixed(6)&&(this.Distance(o,c)+this.Distance(n,c)).toFixed(6)==this.Distance(o,n).toFixed(6)?c:null},e.prototype.Distance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},e.prototype.CheckVector=function(t,e){return t.x==e.x&&t.y==e.y},e.indexLv=1,r([p(cc.Node)],e.prototype,"cutControler",void 0),r([p(cc.Node)],e.prototype,"touchBegin",void 0),r([p(cc.Node)],e.prototype,"touchEnd",void 0),r([p(cc.Node)],e.prototype,"lineTouch",void 0),o=r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../FbSdk/FbSdk":"FbSdk","./Mng":"Mng"}],MngPool:[function(t,e,o){"use strict";cc._RF.push(e,"5ace6jn9x5GbpymPlVvAdYf","MngPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Object/HitStarBlack"),a=t("../Object/Poly"),l=t("../Object/Rope"),s=t("../Object/Star"),p=cc._decorator,d=p.ccclass,u=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listPoly=[],e.listPolyMask=[],e.listWall=[],e}return i(e,t),e.prototype.GetPoly=function(){var t=this.listPoly.findIndex(function(t){return!t.node.activeInHierarchy});return t>=0?this.listPoly[t]:this.RequestPoly()},e.prototype.RequestPoly=function(){var t=cc.instantiate(this.polyPrefab);this.polyParent.addChild(t);var e=t.getComponent(a.default);return this.listPoly.push(e),e},e.prototype.GetPolyMask=function(){var t=this.listPolyMask.findIndex(function(t){return!t.node.activeInHierarchy});return t>=0?this.listPolyMask[t]:this.RequestPolyMask()},e.prototype.RequestPolyMask=function(){var t=cc.instantiate(this.polyMaskPrefab);this.polyParent.addChild(t);var e=t.getComponent(a.default);return this.listPolyMask.push(e),e},e.prototype.GetScrew=function(){var t=cc.instantiate(this.screwPrefab);return this.screwParent.addChild(t),t.getComponent(cc.RevoluteJoint)},e.prototype.GetStar=function(){var t=cc.instantiate(this.starPrefab);return this.starParent.addChild(t),t.getComponent(s.default)},e.prototype.GetWall=function(){var t=cc.instantiate(this.wallPrefab);this.wallParent.addChild(t);var e=t.getComponent(a.default);return this.listWall.push(e),e},e.prototype.GetHitStar=function(){var t=cc.instantiate(this.hitStarPrefab);return this.hitStarParent.addChild(t),t.getComponent(c.default)},e.prototype.GetRope=function(){var t=cc.instantiate(this.ropePrefab);return this.ropeParent.addChild(t),t.getComponent(l.default)},e.prototype.GetScrewRope=function(t,e){var o=cc.instantiate(this.screwRopePrefab);return t.addChild(o),o.position=e?cc.v2(0,10):cc.v2(0,-10),o},e.prototype.GetListPoly=function(){return this.listPoly.filter(function(t){return t.node.activeInHierarchy}).concat(this.listPolyMask.filter(function(t){return t.node.activeInHierarchy}))},r([u(cc.Prefab)],e.prototype,"polyPrefab",void 0),r([u(cc.Prefab)],e.prototype,"polyMaskPrefab",void 0),r([u(cc.Prefab)],e.prototype,"screwPrefab",void 0),r([u(cc.Prefab)],e.prototype,"screwRopePrefab",void 0),r([u(cc.Prefab)],e.prototype,"starPrefab",void 0),r([u(cc.Prefab)],e.prototype,"hitStarPrefab",void 0),r([u(cc.Prefab)],e.prototype,"wallPrefab",void 0),r([u(cc.Prefab)],e.prototype,"ropePrefab",void 0),r([u(cc.Node)],e.prototype,"polyParent",void 0),r([u(cc.Node)],e.prototype,"screwParent",void 0),r([u(cc.Node)],e.prototype,"starParent",void 0),r([u(cc.Node)],e.prototype,"wallParent",void 0),r([u(cc.Node)],e.prototype,"hitStarParent",void 0),r([u(cc.Node)],e.prototype,"ropeParent",void 0),r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../Object/HitStarBlack":"HitStarBlack","../Object/Poly":"Poly","../Object/Rope":"Rope","../Object/Star":"Star"}],MngSound:[function(t,e,o){"use strict";cc._RF.push(e,"fb6afMcZR9M1I4XZGpDxRFd","MngSound");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clip=new Array,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){null==o.ins?(cc.game.addPersistRootNode(this.node),o.ins=this):o.ins!=this&&this.node.destroy()},e.prototype.PlaySound=function(t){if(o.checkSound)return cc.audioEngine.play(this.clip[t],!1,1)},e.prototype.PlayMusic=function(){null==o.musicState&&(null==o.ins.clipMusic?cc.loader.loadRes("Sound/music",cc.AudioClip,function(t,e){o.ins.clipMusic=e,o.musicState=cc.audioEngine.play(o.ins.clipMusic,!0,.25)}):o.musicState=cc.audioEngine.play(o.ins.clipMusic,!0,.25))},e.prototype.StopMusic=function(){null!=o.musicState&&(cc.audioEngine.stop(o.musicState),o.musicState=null)},e.checkSound=!1,r([l({type:cc.AudioClip})],e.prototype,"clip",void 0),o=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],MngUI:[function(t,e,o){"use strict";cc._RF.push(e,"5b2f58e3AhNiqLnb1e9jGcQ","MngUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../UI/Pause"),a=t("../UI/UIPlay"),l=t("../UI/Win"),s=cc._decorator,p=s.ccclass,d=s.property,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=this;this.camera.zoomRatio=cc.scaleGame(),this.scheduleOnce(function(){t.uiParent.scale=1/cc.scaleGame()},.01)},r([d(cc.Node)],e.prototype,"uiParent",void 0),r([d(cc.Camera)],e.prototype,"camera",void 0),r([d(a.default)],e.prototype,"play",void 0),r([d(c.default)],e.prototype,"pause",void 0),r([d(l.default)],e.prototype,"win",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../UI/Pause":"Pause","../UI/UIPlay":"UIPlay","../UI/Win":"Win"}],Mng:[function(t,e,o){"use strict";cc._RF.push(e,"5bd66wmHF1C0r8dlfacJg6q","Mng");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./MngData"),a=t("./MngLogic"),l=t("./MngPool"),s=t("./MngUI"),p=cc._decorator,d=p.ccclass,u=p.property,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.ins=this},r([u(a.default)],e.prototype,"logic",void 0),r([u(l.default)],e.prototype,"pool",void 0),r([u(s.default)],e.prototype,"ui",void 0),r([u(c.default)],e.prototype,"data",void 0),o=r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./MngData":"MngData","./MngLogic":"MngLogic","./MngPool":"MngPool","./MngUI":"MngUI"}],Pause:[function(t,e,o){"use strict";cc._RF.push(e,"67ed2HG5Q5CeIjqLYPsrhdv","Pause");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../General/Loading"),a=t("../../General/MngSound"),l=t("../../General/PlayerPrefs"),s=cc._decorator,p=s.ccclass,d=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spOnOff=[],e}return i(e,t),e.prototype.Init=function(){this.node.setContentSize(cc.winSize.width,cc.winSize.height),this.popup.scale=0,this.node.active=!0,cc.tween(this.popup).to(1,{scale:cc.scaleGame()},{easing:"elasticOut"}).start(),l.default.GetBool("Music",!0)?this.music.spriteFrame=this.spOnOff[0]:this.music.spriteFrame=this.spOnOff[1],l.default.GetBool("Sound",!0)?this.sound.spriteFrame=this.spOnOff[0]:this.sound.spriteFrame=this.spOnOff[1]},e.prototype.Sound=function(){l.default.GetBool("Sound",!0)?(this.sound.spriteFrame=this.spOnOff[1],l.default.SetBool("Sound",!1),a.default.checkSound=!1):(this.sound.spriteFrame=this.spOnOff[0],l.default.SetBool("Sound",!0),a.default.checkSound=!0,a.default.ins.PlaySound(0))},e.prototype.Music=function(){a.default.ins.PlaySound(0),l.default.GetBool("Music",!0)?(this.music.spriteFrame=this.spOnOff[1],l.default.SetBool("Music",!1),a.default.ins.StopMusic()):(this.music.spriteFrame=this.spOnOff[0],l.default.SetBool("Music",!0),a.default.ins.PlayMusic())},e.prototype.Home=function(){a.default.ins.PlaySound(1),c.default.Load("Home")},e.prototype.Share=function(){a.default.ins.PlaySound(0)},e.prototype.Exit=function(){var t=this;a.default.ins.PlaySound(1),cc.tween(this.popup).to(.2,{scale:0},{easing:"cubicIn"}).call(function(){t.node.active=!1}).start()},r([d(cc.Node)],e.prototype,"popup",void 0),r([d(cc.Sprite)],e.prototype,"music",void 0),r([d(cc.Sprite)],e.prototype,"sound",void 0),r([d(cc.SpriteFrame)],e.prototype,"spOnOff",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../General/Loading":"Loading","../../General/MngSound":"MngSound","../../General/PlayerPrefs":"PlayerPrefs"}],PlayerPrefs:[function(t,e,o){"use strict";cc._RF.push(e,"dfae8EdHL1AWbVHgjUGWzPS","PlayerPrefs");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.GetNumber=function(t,e){return void 0===e&&(e=0),null==cc.sys.localStorage.getItem(t+this.idGame)||isNaN(Number(cc.sys.localStorage.getItem(t+this.idGame)))?(cc.sys.localStorage.setItem(t+this.idGame,e.toString()),e):Number(cc.sys.localStorage.getItem(t+this.idGame))},e.SetNumber=function(t,e){cc.sys.localStorage.setItem(t+this.idGame,e.toString())},e.GetBool=function(t,e){return void 0===e&&(e=!1),null==cc.sys.localStorage.getItem(t+this.idGame)?(cc.sys.localStorage.setItem(t+this.idGame,e+""),e):"true"==cc.sys.localStorage.getItem(t+this.idGame)},e.SetBool=function(t,e){cc.sys.localStorage.setItem(t+this.idGame,e+"")},e.GetString=function(t,e){return void 0===e&&(e=""),null==cc.sys.localStorage.getItem(t+this.idGame)?(cc.sys.localStorage.setItem(t+this.idGame,e),e):cc.sys.localStorage.getItem(t+this.idGame)},e.SetString=function(t,e){cc.sys.localStorage.setItem(t+this.idGame,e)},e.idGame="278268077498234",r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],Poly:[function(t,e,o){"use strict";cc._RF.push(e,"2efb8FOg7FJ6btcUAA+WY7B","Poly");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Manager/Mng"),a=cc._decorator,l=a.ccclass,s=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCut=!0,e.color="ffc300",e.points=[],e.listColAddError=null,e}return i(e,t),e.prototype.InitPolygon=function(t,e){void 0===e&&(e=null),this.node.position=cc.Vec2.ZERO,this.rb.linearVelocity=cc.Vec2.ZERO,this.node.angle=0,this.fixedPoint=null,this.jointPoint=null,this.points=t,this.graphics.clear(),this.graphics.moveTo(t[0].x,t[0].y);for(var o=1;o<t.length;o++)this.graphics.lineTo(t[o].x,t[o].y);return this.graphics.lineTo(t[0].x,t[0].y),null!=e?(this.graphics.fillColor="string"==typeof e?cc.color(e):e,this.color=this.graphics.fillColor.toHEX()):this.color="ffc300",this.graphics.fill(),this.isCut||this.graphics.stroke(),this.collider.points=t,this.collider.apply(),this.node.activeInHierarchy||(this.node.active=!0),null==this.childMathPoint&&(this.childMathPoint=new cc.Node(""),this.node.addChild(this.childMathPoint)),this.collider},e.prototype.InitColliderPolygon=function(t){for(var e=new Array,o=new Array,n=0;n<t.length;n++){var i=cc.v2(t[n].x+cc.halfWidth(),t[n].y+cc.halfHeight());e.push(i),o.push(i)}for(var r=[[]];o.length>2;){var c=o,a=function(t){var n=l.MathAngle(o[0==t?o.length-1:t-1],o[t],o[t<o.length-1?t+1:0]);if(180==n||0==n)return c=c.filter(function(e){return e.x!=o[t].x||e.y!=o[t].y}),"continue";if(l.CheckMidleInPolygon(o[0==t?o.length-1:t-1],o[t<o.length-1?t+1:0],e,0)){var i=o[0==t?o.length-1:t-1];r[r.length-1].findIndex(function(t){return t.x==i.x&&t.y==i.y})<0&&r[r.length-1].push(i);var a=o[t];r[r.length-1].findIndex(function(t){return t.x==a.x&&t.y==a.y})<0&&r[r.length-1].push(a);var s=o[t<o.length-1?t+1:0];r[r.length-1].findIndex(function(t){return t.x==s.x&&t.y==s.y})<0&&r[r.length-1].push(s),c=c.filter(function(e){return e.x!=o[t].x||e.y!=o[t].y})}else r[r.length-1].length>0&&r.push([])},l=this;for(n=0;n<o.length;n++)a(n);o=c}for(n=0;n<r.length;n++)for(var s=0;s<r[n].length;s++)r[n][s]=cc.v2(r[n][s].x-cc.halfWidth(),r[n][s].y-cc.halfHeight());for(this.collider.points=r[0],this.collider.apply(),this.listColAddError=new Array,n=1;n<r.length;n++)r[n].length>0&&(this.listColAddError[n-1]=this.node.addComponent(cc.PhysicsPolygonCollider),this.listColAddError[n-1].points=r[n],this.listColAddError[n-1].apply());return this.node.activeInHierarchy||(this.node.active=!0),null==this.childMathPoint&&(this.childMathPoint=new cc.Node(""),this.node.addChild(this.childMathPoint)),e},e.prototype.CheckMidleInPolygon=function(t,e,o,n){var i=cc.v2((t.x+e.x)/2,(t.y+e.y)/2);return!(n<5)||!!cc.Intersection.pointInPolygon(i,o)&&this.CheckMidleInPolygon(t,i,o,n+1)&&this.CheckMidleInPolygon(i,e,o,n+1)},e.prototype.MathAngle=function(t,e,o){var n=cc.v2(t.x-e.x,t.y-e.y),i=cc.v2(e.x-o.x,e.y-o.y);return Math.round(180*Math.acos((n.x*i.x+n.y*i.y)/(Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))*Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))))/Math.PI)},e.prototype.InitPolygonMask=function(t,e){var o=this;void 0===e&&(e=null),this.node.activeInHierarchy||(this.rb.type=cc.RigidBodyType.Dynamic,this.node.active=!0),this.node.position=cc.Vec2.ZERO,this.rb.linearVelocity=cc.Vec2.ZERO,this.node.angle=0,this.fixedPoint=null,this.jointPoint=null,this.dirMove=null;var n=["ffc300","61ce03","e73350","60b8ff"];if(null!=e?(this.rb.gravityScale=0,"object"==typeof e?(this.visibleMask.spriteFrame=e.visibleMask.spriteFrame,this.visibleMask.node.worldAngle=e.visibleMask.node.worldAngle,this.visibleMask.node.worldPosition=e.visibleMask.node.worldPosition,this.color=n[c.default.ins.data.arrow.indexOf(this.visibleMask.spriteFrame)]):(this.visibleMask.spriteFrame=c.default.ins.data.arrow[e],this.color=n[e]),this.dirMove=e.dirMove):(this.visibleMask.node.angle=0,this.visibleMask.node.position=cc.Vec2.ZERO),this.points=t,this.mask._graphics.clear(),this.graphics.clear(),this.scheduleOnce(function(){o.mask._graphics.moveTo(o.points[0].x,o.points[0].y);for(var t=1;t<o.points.length;t++)o.mask._graphics.lineTo(o.points[t].x,o.points[t].y);o.mask._graphics.lineTo(o.points[0].x,o.points[0].y),o.mask._graphics.fill()},0),!this.isCut){this.graphics.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;i++)this.graphics.lineTo(t[i].x,t[i].y);this.graphics.lineTo(t[0].x,t[0].y),this.graphics.stroke()}return this.collider.points=t,this.collider.apply(),null==this.childMathPoint&&(this.childMathPoint=new cc.Node(""),this.node.addChild(this.childMathPoint)),this.collider},e.prototype.update=function(){this.dirMove&&(this.rb.linearVelocity=this.dirMove)},e.prototype.GetPoint=function(){for(var t=[],e=0;e<this.points.length;e++)this.childMathPoint.position=this.points[e],t[e]=cc.v2(this.childMathPoint.canvasPosition.x,this.childMathPoint.canvasPosition.y);return t},e.prototype.GetPointWorlds=function(){for(var t=[],e=0;e<this.points.length;e++)this.childMathPoint.position=this.points[e],t[e]=cc.v2(this.childMathPoint.worldPosition.x,this.childMathPoint.worldPosition.y);return t},e.prototype.onDisable=function(){if(null!=this.listColAddError){for(var t=0;t<this.listColAddError.length;t++)this.listColAddError[t].destroy();this.listColAddError=null}},r([s(cc.RigidBody)],e.prototype,"rb",void 0),r([s(cc.Graphics)],e.prototype,"graphics",void 0),r([s(cc.Mask)],e.prototype,"mask",void 0),r([s(cc.Sprite)],e.prototype,"visibleMask",void 0),r([s(cc.PhysicsPolygonCollider)],e.prototype,"collider",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Manager/Mng":"Mng"}],RankEle:[function(t,e,o){"use strict";cc._RF.push(e,"25f3bdsYnlB8KbOFh7hY50C","RankEle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../FbSdk/FbSdk"),a=t("../General/MngSound"),l=cc._decorator,s=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spBg=[],e}return i(e,t),e.prototype.Init=function(t,e,o,n,i){var r=this;this.bg.spriteFrame=0==t?this.spBg[1]:this.spBg[0],e==c.default.ins.fbId?this.share.active=!0:(this.play.active=!0,this.id=e),cc.assetManager.loadRemote(o,function(t,e){r.avata.spriteFrame=new cc.SpriteFrame(e)}),this.nickname.string=n,this.score.string=i},e.prototype.Play=function(){a.default.ins.PlaySound(0),this.share.activeInHierarchy?c.default.ins.Share():c.default.ins.PlayWithFriend(this.id)},r([p(cc.Sprite)],e.prototype,"bg",void 0),r([p(cc.Sprite)],e.prototype,"avata",void 0),r([p(cc.Label)],e.prototype,"nickname",void 0),r([p(cc.Label)],e.prototype,"score",void 0),r([p(cc.Node)],e.prototype,"share",void 0),r([p(cc.Node)],e.prototype,"play",void 0),r([p(cc.SpriteFrame)],e.prototype,"spBg",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../FbSdk/FbSdk":"FbSdk","../General/MngSound":"MngSound"}],Rope:[function(t,e,o){"use strict";cc._RF.push(e,"d7470uHBqtAc7IAmpnrkWzL","Rope");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=c.property,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([l(cc.RigidBody)],e.prototype,"rb",void 0),r([l(cc.RevoluteJoint)],e.prototype,"joint",void 0),r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],SelectLevel:[function(t,e,o){"use strict";cc._RF.push(e,"05256GgQedJeZ1WxkaXaG4R","SelectLevel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../General/Loading"),a=t("../General/MngSound"),l=t("../General/PlayerPrefs"),s=t("./LevelBtn"),p=cc._decorator,d=p.ccclass,u=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalStar=0,e.localLevel=-150,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.node.scale=cc.scaleGame(),o.ins=this,this.SpawnLevelBtn()},e.prototype.SpawnLevelBtn=function(){for(var t=0;t<100;t++){var e=cc.instantiate(this.levelBtnPrefab);e.setParent(this.contentLevel);var o=t-4*Math.floor(t/4);e.position=cc.v2(170*(o%4-1)-85,this.localLevel),(o+1)%4==0&&(this.localLevel-=250,this.contentLevel.height+=230),e.getComponent(s.default).Init(t),this.totalStar+=l.default.GetNumber("star"+(t+1),0)}this.totalStarLabel.string=this.totalStar+"/300"},e.prototype.BackBtn=function(){a.default.ins.PlaySound(0),c.default.Load("Home")},r([u(cc.Prefab)],e.prototype,"levelBtnPrefab",void 0),r([u(cc.Node)],e.prototype,"contentLevel",void 0),r([u(cc.Label)],e.prototype,"totalStarLabel",void 0),o=r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../General/Loading":"Loading","../General/MngSound":"MngSound","../General/PlayerPrefs":"PlayerPrefs","./LevelBtn":"LevelBtn"}],Star:[function(t,e,o){"use strict";cc._RF.push(e,"44297reFLJHk6IilddUO0ov","Star");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../General/Tag"),a=t("../Manager/Mng"),l=cc._decorator,s=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isBeginContact=!1,e.isPlayAnim=!1,e}return i(e,t),e.prototype.Init=function(t){this.index=t,null==t||0==t?this.collider.points=a.default.ins.logic.GetPointCircle(20):(this.rb.type=cc.RigidBodyType.Dynamic,this.collider.sensor=!1,this.node.color=cc.color("ffffff"),this.spr.spriteFrame=a.default.ins.data.star[t-1],1==t?(this.node.setContentSize(57.5,57.5),this.collider.points=a.default.ins.logic.GetPointBox(cc.v2(57.5,57.5))):(this.node.setContentSize(81,81),this.collider.points=a.default.ins.logic.GetPointCircle(39))),this.collider.apply()},e.prototype.WaitEat=function(){a.default.ins.ui.play.SetStar()},e.prototype.onBeginContact=function(t,e,o){var n=this;if(!this.isBeginContact)if(this.isBeginContact=!0,o.tag!=c.default.vaule.poly||this.isPlayAnim)o.tag!=c.default.vaule.hitStar||this.isPlayAnim||(this.isPlayAnim=!0,this.anim.play("Star"+(this.index+1)),this.scheduleOnce(this.WaitEat,2));else if(null==this.index||0==this.index){var i=a.default.ins.pool.GetListPoly().find(function(t){return t.node==o.node});this.node.color.toHEX()==i.color&&(this.isPlayAnim=!0,this.anim.play("Star1"),this.scheduleOnce(function(){n.node.active=!1},1),a.default.ins.ui.play.SetStar())}},e.prototype.onEndContact=function(t,e,o){this.isBeginContact=!1,o.tag==c.default.vaule.hitStar&&this.isPlayAnim&&(this.anim.stop(),this.isPlayAnim=!1,this.anim.node.scale=1,this.unschedule(this.WaitEat))},r([p(cc.Sprite)],e.prototype,"spr",void 0),r([p(cc.RigidBody)],e.prototype,"rb",void 0),r([p(cc.Animation)],e.prototype,"anim",void 0),r([p(cc.PhysicsPolygonCollider)],e.prototype,"collider",void 0),r([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../General/Tag":"Tag","../Manager/Mng":"Mng"}],TAAPAnalytic:[function(t,e,o){"use strict";cc._RF.push(e,"d43389AAltEpZkc/Dhn5M+B","TAAPAnalytic"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){return t.instance||(t.instance=this),t.instance}return t.getInstance=function(){return new t},t.init=function(t){var e=t||{apiKey:"$2b$10$LqnQsgg52/R2bfHQsI2CI.gbvMLt8s2PwbP8pmlls/8dT1HWfSB9O",authDomain:"https://imess.top/services",projectId:"fbid"};this.getInstance().config=e,axios.post("/players/login",{apiKey:e.apiKey,projectId:e.projectId,id:FBInstant.player.getID(),name:FBInstant.player.getName(),platform:FBInstant.getPlatform(),locale:FBInstant.getLocale()},{baseURL:e.authDomain}).then(function(t){var e=t.data;axios.defaults.headers.common.Authorization="Bear "+e}).catch(function(t){console.error(t)})},t.analyticLog=function(t,e){var o=this.getInstance().config.authDomain;axios.post("/analytics/log",{event:t,value:e},{baseURL:o})},t}();o.default=n,cc._RF.pop()},{}],Tag:[function(t,e,o){"use strict";cc._RF.push(e,"990a5TK1q5NTZiuD/jD6ga+","Tag");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.vaule={default:0,poly:1,hitStar:2},r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],UIPlay:[function(t,e,o){"use strict";cc._RF.push(e,"c40b2Two4ZG8JRwpSfy5sih","UIPlay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../FbSdk/FbSdk"),a=t("../../General/Loading"),l=t("../../General/MngSound"),s=t("../../General/PlayerPrefs"),p=t("../Manager/Mng"),d=t("../Manager/MngLogic"),u=cc._decorator,f=u.ccclass,h=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.indexHint=0,e.countStar=0,e.countLine=0,e}return i(e,t),e.prototype.Init=function(t){var e=this;this.node.setContentSize(cc.winSize.width,cc.winSize.height);for(var o="",n=0;n<3-d.default.indexLv.toString().length;n++)o+="0";if(this.level.string=o+"<color =#000000><b>"+d.default.indexLv+"</b></color>",this.star.string="0/"+(this.totalStar=t.star.length),this.cut.string="0/"+(this.totalLine=t.cut),s.default.GetNumber("hint",2)>0?this.hint.string=s.default.GetNumber("hint",2).toString():(this.hint.node.parent.active=!1,this.videoHint.active=!0),s.default.GetNumber("skip",1)>0?this.skip.string=s.default.GetNumber("skip",1).toString():(this.skip.node.parent.active=!1,this.videoSkip.active=!0),this.dataHint=t.hint,1==d.default.indexLv){this.tutorial.active=!0,p.default.ins.logic.touchBegin.active=p.default.ins.logic.touchEnd.active=p.default.ins.logic.lineTouch.active=!0;var i=this.indexHint,r=function(){p.default.ins.logic.lineTouch.width=0,p.default.ins.logic.touchBegin.position=p.default.ins.logic.touchEnd.position=p.default.ins.logic.lineTouch.position=e.dataHint[i][0];var t=cc.Vec2.distance(p.default.ins.logic.touchBegin.position,e.dataHint[i][1]);p.default.ins.logic.lineTouch.angle=180*Math.atan2(e.dataHint[i][1].y-p.default.ins.logic.touchBegin.position.y,e.dataHint[i][1].x-p.default.ins.logic.touchBegin.position.x)/Math.PI,cc.tween(p.default.ins.logic.touchEnd).to(.8,{position:cc.v2(e.dataHint[i][1].x,e.dataHint[i][1].y)}).call(function(){r()}).start(),cc.tween(p.default.ins.logic.lineTouch).to(.8,{width:t}).start()};r()}},e.prototype.Hint=function(){var t=this;l.default.ins.PlaySound(0);var e=function(){p.default.ins.logic.touchBegin.active=p.default.ins.logic.touchEnd.active=p.default.ins.logic.lineTouch.active=!0;var e=t.indexHint,o=function(){p.default.ins.logic.lineTouch.width=0,p.default.ins.logic.touchBegin.position=p.default.ins.logic.touchEnd.position=p.default.ins.logic.lineTouch.position=t.dataHint[e][0];var n=cc.Vec2.distance(p.default.ins.logic.touchBegin.position,t.dataHint[e][1]);p.default.ins.logic.lineTouch.angle=180*Math.atan2(t.dataHint[e][1].y-p.default.ins.logic.touchBegin.position.y,t.dataHint[e][1].x-p.default.ins.logic.touchBegin.position.x)/Math.PI,cc.tween(p.default.ins.logic.touchEnd).to(.8,{position:cc.v2(t.dataHint[e][1].x,t.dataHint[e][1].y)}).call(function(){o()}).start(),cc.tween(p.default.ins.logic.lineTouch).to(.8,{width:n}).start()};o(),t.indexHint++};this.indexHint<this.dataHint.length&&(0==s.default.GetNumber("hint",2)?c.default.ins.ShowVideo(e):(s.default.SetNumber("hint",s.default.GetNumber("hint",2)-1),s.default.GetNumber("hint",2)>0?this.hint.string=s.default.GetNumber("hint",2).toString():(this.hint.node.parent.active=!1,this.videoHint.active=!0),e()))},e.prototype.Skip=function(){l.default.ins.PlaySound(0),0==s.default.GetNumber("skip",1)?c.default.ins.ShowVideo(function(){p.default.ins.ui.win.Init(3)}):(s.default.SetNumber("skip",s.default.GetNumber("skip",1)-1),s.default.GetNumber("skip",1)>0?this.skip.string=s.default.GetNumber("skip",1).toString():(this.skip.node.parent.active=!1,this.videoSkip.active=!0))},e.prototype.Replay=function(){l.default.ins.PlaySound(0),a.default.Load("Gameplay")},e.prototype.Pause=function(){l.default.ins.PlaySound(0),p.default.ins.ui.pause.Init()},e.prototype.SetStar=function(){l.default.ins.PlaySound(3),this.countStar++,this.star.string=this.countStar+"/"+this.totalStar,this.countStar==this.totalStar&&p.default.ins.ui.win.Init(Math.max(3-(this.countLine-this.totalLine),1))},e.prototype.SetLine=function(){l.default.ins.PlaySound(4),this.countLine++,this.cut.string=this.countLine+"/"+this.totalLine},r([h(cc.Label)],e.prototype,"cut",void 0),r([h(cc.Label)],e.prototype,"star",void 0),r([h(cc.Label)],e.prototype,"hint",void 0),r([h(cc.Label)],e.prototype,"skip",void 0),r([h(cc.Node)],e.prototype,"videoHint",void 0),r([h(cc.Node)],e.prototype,"videoSkip",void 0),r([h(cc.RichText)],e.prototype,"level",void 0),r([h(cc.Node)],e.prototype,"tutorial",void 0),r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../FbSdk/FbSdk":"FbSdk","../../General/Loading":"Loading","../../General/MngSound":"MngSound","../../General/PlayerPrefs":"PlayerPrefs","../Manager/Mng":"Mng","../Manager/MngLogic":"MngLogic"}],Win:[function(t,e,o){"use strict";cc._RF.push(e,"2c48dB2Pr5G/KyGk+9SYqwQ","Win");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../FbSdk/FbSdk"),a=t("../../General/GameNetwork"),l=t("../../General/Loading"),s=t("../../General/MngSound"),p=t("../../General/PlayerPrefs"),d=t("../Manager/MngLogic"),u=cc._decorator,f=u.ccclass,h=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.star=[],e}var o;return i(e,t),o=e,e.prototype.Init=function(t){this.node.setContentSize(cc.winSize.width,cc.winSize.height);for(var e=t;e<3;e++)this.star[e].spriteFrame=this.spStarGray;this.node.scale=0,this.node.active=!0,cc.tween(this.node).delay(1.5).to(1,{scale:1},{easing:"elasticOut"}).call(function(){o.countWin++,o.countWin>=2&&(c.default.ins.ShowInterstitial(),o.countWin=0)}).start(),p.default.GetNumber("levelUnlock",1)<d.default.indexLv+1&&(p.default.SetNumber("levelUnlock",d.default.indexLv+1),a.default.AddRanking(c.default.ins.fbId,p.default.GetNumber("levelUnlock",1))),p.default.GetNumber("star"+d.default.indexLv,0)<t&&p.default.SetNumber("star"+d.default.indexLv,t),c.default.ins.LogEvent("Win Lv"+d.default.indexLv)},e.prototype.Next=function(){s.default.ins.PlaySound(2),c.default.ins.LogEvent("Next Lv"+d.default.indexLv),d.default.indexLv++,l.default.Load("Gameplay")},e.prototype.Replay=function(){s.default.ins.PlaySound(0),l.default.Load("Gameplay")},e.prototype.Back=function(){s.default.ins.PlaySound(1),l.default.Load("SelectLevel")},e.countWin=1,r([h(cc.SpriteFrame)],e.prototype,"spStarGray",void 0),r([h(cc.Sprite)],e.prototype,"star",void 0),o=r([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../FbSdk/FbSdk":"FbSdk","../../General/GameNetwork":"GameNetwork","../../General/Loading":"Loading","../../General/MngSound":"MngSound","../../General/PlayerPrefs":"PlayerPrefs","../Manager/MngLogic":"MngLogic"}]},{},["FbSdk","Mng","MngData","MngLogic","MngPool","MngUI","HitStarBlack","Poly","Rope","Star","Pause","UIPlay","Win","Additional ","GameNetwork","Loading","MngSound","PlayerPrefs","Tag","Home","Leaderboard","RankEle","LevelBtn","SelectLevel","TAAPAnalytic"]);